<div class="container mt-5">
  <h1 class="text-center title  ">Sistema de Gestión de Adquisiciones</h1>
</div>


<div class="container mt-5">
  <!-- Sección del título y el botón -->
  <div class="title-section" style="background-color: #283557; padding: 15px; border-radius: 5px;">
    <div class="d-flex justify-content-between align-items-center">
      <h2 class="mb-0" style="color: white;">Adquisiciones</h2>
      <button class="btn btn-primary" (click)="abrirModal()">
        <i class="bi bi-plus"></i> Agregar Adquisición
      </button>
    </div>
  </div>

  <!-- Tabla -->
  <table class="table table-bordered">
    <thead>
      <tr style="background-color: #5068b2; color: white;">
        <th>Presupuesto</th>
        <th>Unidad</th>
        <th>Tipo de Bien / Servicio</th>
        <th>Cantidad</th>
        <th>Valor unitario</th>
        <th>Valor total</th>
        <th>Fecha Adquisición</th>
        <th>Proveedor</th>
        <th>Documentacion</th>
        <th>Estado</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>$10.000 millones</td>
        <td>Dirección de Medicamentos y Tecnologías en Salud</td>
        <td>Medicamentos</td>
        <td>10.000 unidades</td>
        <td>$1.000</td>
        <td>$10.000.000</td>
        <td>20 de julio de 2023</td>
        <td>Laboratorios Bayer S.A.</td>
        <td>Orden de compra No. 2023-07-20-001, factura No. 2023-07-20-001</td>
        <td>
          <button class="btn btn-sm btn-warning me-2 action" title="Editar">
            <i class="bi bi-pencil"></i>
          </button>
          <button class="btn btn-sm btn-info me-2 action" title="Ver Historial">
            <i class="bi bi-clock-history"></i>
          </button>
          <button class="btn btn-sm btn-danger me-2 action" title="Eliminar">
            <i class="bi bi-trash"></i>
          </button>
        </td>
      </tr>
      @for(adquisicion of adquisiciones; track adquisicion.id){
      <tr>
        <td>{{ adquisicion.presupuesto }}</td>
        <td>{{ adquisicion.unidad }}</td>
        <td>{{ adquisicion.tipoDeBien }}</td>
        <td>{{ adquisicion.cantidad }}</td>
        <td>{{ adquisicion.valorUnitario }}</td>
        <td>{{ adquisicion.valorTotal }}</td>
        <td>{{ adquisicion.fechaAdquisicion }}</td>
        <td>{{ adquisicion.proveedor }}</td>
        <td>{{ adquisicion.documentacion }}</td>
        <td>{{ adquisicion.activo }}</td>
        <td>
          <button class="btn btn-sm btn-warning me-2 action" (click)="abrirModal(adquisicion)" title="Editar">
            <i class="bi bi-pencil"></i>
          </button>
          <button class="btn btn-sm btn-info me-2 action" title="Ver Historial">
            <i class="bi bi-clock-history"></i>
          </button>
          <button class="btn btn-sm btn-danger me-2 action" title="Eliminar">
            <i class="bi bi-trash"></i>
          </button>
      </tr>
      }
      <!-- Agrega más filas según sea necesario -->
    </tbody>
  </table>
</div>

<div id="agregarAdquisicionModal" class="modal" style="display: none;">
  <div class="modal-content">
    <agregar-adquisicion-modal [adquisicionEditada]="adquisicionEditada" (adquisicionAgregada)="actualizarTabla()">
    </agregar-adquisicion-modal>
  </div>
</div>


